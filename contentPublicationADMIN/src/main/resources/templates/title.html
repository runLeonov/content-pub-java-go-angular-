<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.84.0">
    <title>user info</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/checkout/">
    <link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/sticky-footer-navbar/">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>
    <link rel="stylesheet" th:href="@{/starter-template.css}">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <meta name="theme-color" content="#7952b3">


    <style>
        .dropdown-menu {
            max-height: 280px;
            overflow-y: auto;
        }

        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }
    </style>

    <!--    <link href="form-validation.css" rel="stylesheet">-->
</head>
<body class="d-flex flex-column h-100">
<header>
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
        <div class="container-fluid container">
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <ul class="navbar-nav me-auto mb-2 mb-md-0">
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/titles/released}">Titles</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/titles/not-released}">Unreleased
                            titles</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/users/}">Users</a>
                    </li>
                </ul>

                <ul class="navbar-nav mb-2 mb-md-0">
                    <li class="nav-item">
                        <a class="nav-link" aria-current="page" th:href="@{/contents/}">Content</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/comments/}">Comments</a>
                    </li>
                    <li class="nav-item">
                        <a  href="javascript: document.logoutForm.submit()" class="nav-link">Log out</a>
                    </li>
                    <form name="logoutForm" th:action="@{/logout}" method="post" th:hidden="true">
                        <input hidden type="submit" value="Sign Out"/>
                    </form>
                </ul>
            </div>
        </div>
    </nav>
</header>
<main>
    <div class="container">
        <div class="row g-5">
            <div class="col-md-5 col-lg-4 order-first">
                <h4 class="d-flex justify-content-between align-items-center mb-3">
                    <span class="">Title image and content images:</span>
                </h4>

                <div class="row g-1">
                    <img th:src="${title.getTitleImgBase64()}" alt="Admin" class="w-100">
                    <div class="w-100 btn-group">
                        <button th:if="${title.getTags().isEmpty()}" type="button" class="w-100 btn btn-danger"
                                data-bs-toggle="dropdown"
                                aria-expanded="false">
                            No tags.
                        </button>
                        <button th:unless="${title.getTags().isEmpty()}" type="button"
                                class="w-100 btn btn-secondary dropdown-toggle" data-bs-toggle="dropdown"
                                aria-expanded="false">
                            Categories list
                        </button>
                        <ul class="w-100 dropdown-menu">
                            <li th:each="tag: ${title.getTags()}" class="list-group-item d-flex justify-content-between"
                                style="border: none">
                                <span class="text-secondary">
                                    <h6 th:text="${'Name: '+ tag.getTagName()}" class="my-0"></h6>
                                </span>
                                <span th:text="${'ID: '+ tag.getID()}" class="text-muted"> </span>
                            </li>
                        </ul>
                    </div>

                    <div class="w-100 btn-group">
                        <button th:if="${title.getCategories().isEmpty()}" type="button" class="w-100 btn btn-danger"
                                data-bs-toggle="dropdown"
                                aria-expanded="false">
                            No categories.
                        </button>
                        <button th:unless="${title.getCategories().isEmpty()}" type="button"
                                class="w-100 btn btn-secondary dropdown-toggle" data-bs-toggle="dropdown"
                                aria-expanded="false">
                            Categories list
                        </button>
                        <ul class="w-100 dropdown-menu">
                            <li th:each="cat: ${title.getCategories()}"
                                class="list-group-item d-flex justify-content-between" style="border: none">
                                <span class="text-secondary">
                                    <h6 th:text="${'Name: '+ cat.getGenre()}" class="my-0"></h6>
                                </span>
                                <span th:text="${'ID: '+ cat.getID()}" class="text-muted"> </span>
                            </li>
                        </ul>
                    </div>

                    <div class="w-100 btn-group">
                        <button th:if="${title.getSerials().isEmpty()}" type="button" class="w-100 btn btn-danger"
                                data-bs-toggle="dropdown"
                                aria-expanded="false">
                            No serials.
                        </button>
                        <button th:unless="${title.getSerials().isEmpty()}" type="button"
                                class="w-100 btn btn-secondary dropdown-toggle" data-bs-toggle="dropdown"
                                aria-expanded="false">
                            Serials list
                        </button>
                        <ul class="w-100 dropdown-menu">
                            <li th:each="ser: ${title.getSerials()}"
                                class="list-group-item d-flex justify-content-between" style="border: none">
                                <span class="text-secondary">
                                    <h6 th:text="${'Name: '+ ser.getSerialName()}" class="my-0"></h6>
                                </span>
                                <span th:text="${'ID: '+ ser.getID()}" class="text-muted"> </span>
                            </li>
                        </ul>
                    </div>

                    <div class="col-sm-12">
                        <input type="text" style="text-align:center;" class="form-control" id="views"
                               th:placeholder=" ${'Views total: ' + title.getContent().getViews()}" disabled value=""
                               required="">
                    </div>

                    <div class="col-sm-6">
                        <input type="text" class="form-control" id="comments"
                               th:placeholder="${'Comments total: ' + title.getContent().getComments().size()}" disabled
                               value="" required="">
                    </div>

                    <div class="col-sm-6">
                        <input type="text" class="form-control" id="likes"
                               th:placeholder=" ${'Likes total: ' + title.getContent().getLikesCount()}" disabled
                               value="" required="">
                    </div>

                </div>
            </div>
            <div class="col-md-7 col-lg-8">
                <h4 class="mb-3">Title info:</h4>
                <div class="row g-3">
                    <div class="col-sm-6">
                        <label for="firstName" class="form-label">Title name</label>
                        <input type="text" class="form-control" id="firstName"
                               th:placeholder="${title.getTitleName()}" disabled value="" required="">
                        <div class="invalid-feedback">
                            Valid first name is required.
                        </div>
                    </div>

                    <div class="col-sm-6">
                        <label for="lastName" class="form-label">Original author</label>
                        <input type="text" class="form-control" id="lastName"
                               th:placeholder="${title.getOriginalAuthor()}"
                               disabled value="" required="">
                        <div class="invalid-feedback">
                            Valid last name is required.
                        </div>
                    </div>
                    <div class="col-12">
                        <textarea style="height: 200px" th:text="${'Description: ' + title.getDescription()}" disabled
                                  class="w-100">

                        </textarea>
                    </div>
                    <div class="col-12">
                        <form th:action="${'/titles/' + title.getID() +'/release'}" method="post">
                            <button th:if="${!title.isReleased()}" class="w-100 btn btn-secondary btn-lg form-control"
                                    type="submit">Release title
                            </button>
                            <button th:unless="${!title.isReleased()}" class="w-100 btn  btn-danger btn-lg form-control"
                                    type="submit">Ban title
                            </button>
                        </form>
                    </div>

                    <div th:if="${!title.getContent().getImages().isEmpty()}">
                        <h3 class="mb-3">Title images in content:</h3>
                        <button id="scrollerImg" class="w-100 btn btn-secondary btn-lg">
                            Show content images
                        </button>
                        <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel" hidden>
                            <div class="carousel-inner">
                                <div class="carousel-item active">
                                    <img th:src="${title.getContent().getImages().get(0).getImgBase64()}"
                                         class="d-block w-100" alt="...">
                                    <div class="carousel-caption d-none d-md-block">
                                        <h5>Preview slide</h5>
                                    </div>
                                </div>
                                <div th:each="img, i: ${title.getContent().getImages()}" th:if="${i != 0}"
                                     class="carousel-item">
                                    <img th:src="${img.getImgBase64()}" class="d-block w-100" alt="...">
                                    <div class="carousel-caption d-none d-md-block">
                                        <h5 th:text="${'img number: ' + (i.index + 1)}"></h5>
                                    </div>
                                </div>
                            </div>
                            <button class="carousel-control-prev" type="button"
                                    data-bs-target="#carouselExampleCaptions"
                                    data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Previous</span>
                            </button>
                            <button class="carousel-control-next" type="button"
                                    data-bs-target="#carouselExampleCaptions"
                                    data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Next</span>
                            </button>
                        </div>
                    </div>
                    <div>
                        <h3 class="mb-3">Comments by users for title:</h3>
                        <ul class="list-group mb-3">
                            <li th:if="${!title.getContent().getComments().isEmpty()}"
                                th:each="comm: ${title.getContent().getComments()}"
                                class="list-group-item d-flex justify-content-between lh-sm">
                                <a th:href="${'/users/' + comm.getUserID()}" style="text-decoration: none">
                                    <div>
                                        <h6 th:if="${comm.getCreationDate() != null}"
                                            th:text="${#temporals.format(comm.getCreationDate(), 'dd-MM-yyyy HH:mm')}"
                                            class="my-0"></h6>
                                        <h6 th:unless="${comm.getCreationDate() != null}" class="my-0">[date parse
                                            error]</h6>
                                        <small th:text="'[' + ${comm.getUser().getName()} + ']: ' + ${comm.getCommentVal()}"
                                               class="text-muted"> </small>
                                    </div>
                                </a>
                                <i class="material-icons">
                                    <form method="post"
                                          th:action="${'/titles/' + title.getID() +'/comment/' + comm.getID()}">
                                        <button style="text-decoration: none; border: none; background-color: white"
                                                class="text-danger">delete
                                        </button>
                                    </form>
                                </i>
                            </li>
                            <li th:unless="${!title.getContent().getComments().isEmpty()}"
                                class="list-group-item d-flex justify-content-between bg-light">
                                <div class="text-danger">
                                    <h6 class="my-0">Title has no</h6>
                                    <small>any comments</small>
                                </div>
                            </li>
                        </ul>
                    </div>


                </div>
            </div>
        </div>
    </div>
</main>
<footer class="footer mt-auto py-3 bg-light">
    <div class="container">
        <span class="text-muted">Place sticky footer content here.</span>
    </div>
</footer>
</body>

<script>
    let IS_HIDDEN = false;

    document.getElementById("scrollerImg").addEventListener("click", () => {
        IS_HIDDEN = !IS_HIDDEN;
        document.getElementById("carouselExampleCaptions").hidden = !IS_HIDDEN;
        document.getElementById("scrollerImg").innerHTML = IS_HIDDEN ? "Hide images" : "Show content images";
    });
</script>
</html>